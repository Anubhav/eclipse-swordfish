<?xml version="1.0" encoding="UTF-8"?>
<!--============================================================================
    Copyright (c) 2007 Deutsche Post AG.
    All rights reserved. This program and the accompanying materials
    are made available under the terms of the Eclipse Public License v1.0
    which accompanies this distribution, and is available at
    http://www.eclipse.org/legal/epl-v10.html
    
    Contributors:
       Deutsche Post AG - initial API and implementation
 ============================================================================-->
<configuration xmlns:sopcs="http://schemas.sopware.org/configuration/generic/1.0">
    <Global sopcs:name="/">
        <!--  -->
        <EndpointReferenceResolver>
            <enableLocalLoopback>false</enableLocalLoopback>
            <defaultTransport>HTTP</defaultTransport>
        </EndpointReferenceResolver>
        <!--  -->
        <DeliveryChannelListenerBean>
            <threadSleepTime>100</threadSleepTime>
            <acceptedTimeout>10</acceptedTimeout>
            <minThreadCount>5</minThreadCount>
            <maxThreadCount>10</maxThreadCount>
            <bindingProcessingTimeout>240000</bindingProcessingTimeout>
        </DeliveryChannelListenerBean>
        <!--  -->
        <GeneralCacheAdministrator>
            <cache>
                <memory>true</memory>
            </cache>
        </GeneralCacheAdministrator>
        <!--  -->
        <Management>
            <ManagementNotificationListener>
                <ProcessingInterval>1000</ProcessingInterval>
                <DirectProcessing>false</DirectProcessing>
            </ManagementNotificationListener>
            <FileAppender>
                <NamePattern>%t/sbb_operations%g.log</NamePattern>
                <Limit>50000</Limit>
                <Count>3</Count>
            </FileAppender>
            <NrPublisher>
                <ActivateSbb>true</ActivateSbb>
                <ActivateHttp>true</ActivateHttp>
                <Url>http://sop20-et03-01:18380/management-tools-nr</Url>
                <MessageThreshold>100</MessageThreshold>
                <ProcessingInterval>6000</ProcessingInterval>
                <MaxMessages>1000</MaxMessages>
                <Activate>true</Activate>
            </NrPublisher>
            <EmAdapter>
                <Port>8088</Port>
                <Host>$DEFAULT</Host>
                <Username>ElementManager</Username>
                <Password>e5e9fa1ba31ecd1ae84f75caaa474f3a663f05f4</Password>
                <Activate>true</Activate>
            </EmAdapter>
            <HPManagementAdapter>
                <Activate>false</Activate>
                <ImplClass>org.eclipse.swordfish.core.management.adapter.extension.HPManagementAdapterImpl</ImplClass>
                <ConfigLocation>JMXRMIConnectorConfig</ConfigLocation>
            </HPManagementAdapter>
            <SnmpPublisher>
                <Activate>false</Activate>
                <ImplClass>org.eclipse.swordfish.core.management.adapter.extension.SnmpAdapterImpl</ImplClass>
                <TargetHost>localhost</TargetHost>
                <TargetPort>1313</TargetPort>
                <MipLocation>sbb-management-mib.txt</MipLocation>
            </SnmpPublisher>
        </Management>
        <HttpClientConfiguration>
			<!-- HTTP connection timeout in seconds -->
			<connectionTimeout>30</connectionTimeout>
			<!-- HTTP proxy enable/disable -->
			<httpProxyEnable>false</httpProxyEnable>
			<!-- HTTP proxy hostname to use -->
			<httpProxyHost>saruman.servicebackbone.org</httpProxyHost>
			<!-- HTTP proxy port to use -->
			<httpProxyPort>3128</httpProxyPort>
			<!-- HTTP proxy user name -->
			<httpProxyUsername>user</httpProxyUsername>
			<!-- HTTP proxy password -->
			<httpProxyPassword>password</httpProxyPassword>
			<!-- File name of the keystore to use for client authentication -->
			<sslKeystore>keys.jks</sslKeystore>
			<!-- Password to access keystore for client authentication -->
			<sslKeystorePassword>password</sslKeystorePassword>
			<!-- File name of the truststore to use for server certificate validation -->
			<sslTruststore>certs.jks</sslTruststore>
			<!-- Switch to enable/disable hostname verification of the server certificate during ssl communication-->
			<sslHostnameVerification>false</sslHostnameVerification>
			<!-- Path relative to engine installation directory, all filenames are interpreted as being relative to this -->
			<baseDir>conf/transport</baseDir>
		</HttpClientConfiguration>
		
		<JMSClientConfiguration>
			<!-- JMS connection timeout in seconds -->
			<connectionTimeout>60</connectionTimeout>
		</JMSClientConfiguration>	
		
	    <!-- start using the locator -->
	    <LocatorInUse>false</LocatorInUse>
    </Global>

    <!-- Default configuration for the configuration repository proxies in this installation -->
    <Participant sopcs:name="/">
        <ConfigurationRepositoryManager>
            <!-- Define whether remote calls should be skipped -->
            <SkipRemoteConfigCall>true</SkipRemoteConfigCall>
            <!-- Location this installtion belong to -->
            <Location>Bonn</Location>
            <!-- Timeout for synchronous communication with the configuration repository (ms). -->
            <CommunicationTimeout>30000</CommunicationTimeout>
            <!-- Host and port of the configuration repository -->
            <ConfigurationRepositoryUrl>http://localhost:8080/soap/ConfigurationRuntimeProvider</ConfigurationRepositoryUrl>
        </ConfigurationRepositoryManager>
        
       <ServiceRegistryManager>
       		<ServiceRegistryUrl>http://localhost:8080/soap/ServiceRegistryProvider</ServiceRegistryUrl>
       		<ServiceRegistrySecureUrl> https://localhost:8080/soap/ServiceRegistryProvider</ServiceRegistrySecureUrl>
       		<UseSecureUrl>true</UseSecureUrl>
        </ServiceRegistryManager>
        
    </Participant>
    

</configuration>
